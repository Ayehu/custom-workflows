<?xml version="1.0" encoding="utf-8"?>
<Workflow>
  <WorkflowInfo Name="SSH - Linux - Disk Usage" Description="Simple template to retrieve the usage of all available disks and mount-points in a target machine via the df command.  The results are then converted into a table with columns for Filesystem, Size, Used, Available, Percentage Used, and mount-point." Details="&lt;p&gt;Simple template to retrieve the usage of all available disks and mount-points in a target machine via the &lt;strong&gt;df &lt;/strong&gt;command.&amp;nbsp;The results are then converted into a table with columns for &lt;strong&gt;filesystem type&lt;/strong&gt;, &lt;strong&gt;disk size&lt;/strong&gt;, &lt;strong&gt;disk used&lt;/strong&gt;, &lt;strong&gt;available disk&lt;/strong&gt;, &lt;strong&gt;percentage of disk used&lt;/strong&gt;, and &lt;strong&gt;mount-point&lt;/strong&gt;.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;This is achieved with the following command:&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;df -h | awk '{print $1&quot;\t&quot;,$2&quot;\t&quot;,$3&quot;\t&quot;,$4&quot;\t&quot;,$5&quot;\t&quot;,$6}'&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;...where the &lt;strong&gt;-h &lt;/strong&gt;flag for &lt;strong&gt;df &lt;/strong&gt;prints sizes in powers of 1024 (considered human-readable) and its results are piped to &lt;strong&gt;awk &lt;/strong&gt;in order to add tabs between columns to be used as as delimiter when converted to a table.&lt;/p&gt;" XML="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;SequentialWorkflowActivity xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/workflow&quot; xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot; x:Name=&quot;CustomWorkflow&quot; x:Class=&quot;WorkflowDesignerControl.CustomWorkflow&quot;&gt;&lt;StartSSHSession x:Name=&quot;ssh_connect&quot; id=&quot;274&quot; name=&quot;StartSSHSession&quot; visible=&quot;True&quot; disabled=&quot;False&quot; isFavorite=&quot;False&quot; IsValid=&quot;True&quot; Timeout=&quot;00:01:00&quot; TimeInSeconds=&quot;60&quot; RecoveryMethodSelection=&quot;{x:Null}&quot; TargetModuleID=&quot;&quot; TargetModuleName=&quot;&quot; Path=&quot;{x:Null}&quot; DisplayName=&quot;Start SSH Session&quot; Description=&quot;Starts an SSH session&quot; Port=&quot;22&quot; MaxSessionTime=&quot;00:10:00&quot; HostId=&quot;4&quot; HostName=&quot;local shell server&quot; UserName=&quot;&quot; Password=&quot;&quot; StartSession=&quot;SSH&quot; OSType=&quot;0&quot; certtype=&quot;&quot; certpath=&quot;&quot; notes=&quot;Initialize SSH session.&quot; TypeName=&quot;StartSSHSession&quot; /&gt;&lt;SendSSHCommand x:Name=&quot;cmd_disk_usage&quot; id=&quot;271&quot; name=&quot;SendSSHCommand&quot; visible=&quot;True&quot; disabled=&quot;False&quot; isFavorite=&quot;False&quot; IsValid=&quot;True&quot; Timeout=&quot;00:01:00&quot; TimeInSeconds=&quot;60&quot; RecoveryMethodSelection=&quot;{x:Null}&quot; TargetModuleID=&quot;&quot; TargetModuleName=&quot;&quot; Path=&quot;{x:Null}&quot; DisplayName=&quot;Send SSH Command&quot; Description=&quot;Sends a single SSH protocol command to an open SSH session&quot; SessionName=&quot;ssh_connect&quot; Comm=&quot;df -h | awk '{print $1&amp;quot;\t&amp;quot;,$2&amp;quot;\t&amp;quot;,$3&amp;quot;\t&amp;quot;,$4&amp;quot;\t&amp;quot;,$5&amp;quot;\t&amp;quot;,$6}'&quot; Prompt=&quot;&quot; HostId=&quot;-1&quot; HostName=&quot;{x:Null}&quot; OSType=&quot;0&quot; notes=&quot;Execute df command to retrieve disk usage.  The -h flag for df prints sizes in powers of 1024 (considered human-readable) and its results are piped to awk in order to add tabs between columns to be used as as delimiter when converted to a table.&quot; TypeName=&quot;SendSSHCommand&quot; /&gt;&lt;ConvertTextToTable x:Name=&quot;table_disk_usage&quot; id=&quot;317&quot; name=&quot;ConvertTextToTable&quot; visible=&quot;True&quot; disabled=&quot;False&quot; isFavorite=&quot;False&quot; IsValid=&quot;True&quot; Timeout=&quot;00:01:00&quot; TimeInSeconds=&quot;60&quot; RecoveryMethodSelection=&quot;{x:Null}&quot; TargetModuleID=&quot;&quot; TargetModuleName=&quot;&quot; Path=&quot;{x:Null}&quot; DisplayName=&quot;Convert Text to Table&quot; Description=&quot;Converts a text variable into a table according to predefined column/row delimiters&quot; TheValue=&quot;%cmd_disk_usage%&quot; ColumnsSelection=&quot;1&quot; ColumnsDelimiterText=&quot;&quot; ColumnsDelimiter=&quot;Tab&quot; ColumnsDelimiterSelection=&quot;Tab&quot; ColumnsRowNumber=&quot;1&quot; RowsSelection=&quot;1&quot; RowsDelimiterText=&quot;&quot; RowsDelimiterSelection=&quot;Carriage Return&quot; RowsDelimiter=&quot;Carriage Return&quot; notes=&quot;Convert command output to table.&quot; TypeName=&quot;ConvertTextToTable&quot; /&gt;&lt;TerminateSSHSession x:Name=&quot;ssh_disconnect&quot; id=&quot;275&quot; name=&quot;TerminateSSHSession&quot; visible=&quot;True&quot; disabled=&quot;False&quot; isFavorite=&quot;False&quot; IsValid=&quot;True&quot; notes=&quot;End SSH session.&quot; Timeout=&quot;00:01:00&quot; TimeInSeconds=&quot;60&quot; RecoveryMethodSelection=&quot;{x:Null}&quot; TargetModuleID=&quot;&quot; TargetModuleName=&quot;&quot; Path=&quot;{x:Null}&quot; DisplayName=&quot;&quot; Description=&quot;Terminates an SSH session&quot; SessionName=&quot;ssh_connect&quot; HostId=&quot;-1&quot; HostName=&quot;{x:Null}&quot; OSType=&quot;0&quot; TypeName=&quot;TerminateSSHSession&quot; /&gt;&lt;/SequentialWorkflowActivity&gt;" />
  <Tags>
  </Tags>
</Workflow>